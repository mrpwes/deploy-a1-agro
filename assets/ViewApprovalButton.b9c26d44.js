import{u as A,r as g,o as d,c as n,d as l,Q as u,w as o,a as s,a8 as i,g as p,a5 as y,a6 as R,G as D,S as m,a7 as b,e as v,f as h}from"./index.504ec86a.js";import{Q}from"./QInput.83dad3fc.js";import{Q as q}from"./QDate.4981f917.js";import{Q as x}from"./QPopupProxy.7af26239.js";import{C as c,Q as B}from"./ClosePopup.337d1baa.js";import{Q as U}from"./position-engine.224580a6.js";import{u as I}from"./viewApproval.4c4ccb4a.js";const N={class:"!tw-h-min !tw-w-4/12 !tw-max-w-full tw-bg-white tw-p-6"},P={class:"tw-grid tw-grid-cols-3 tw-gap-5 tw-pb-5"},S={class:"tw-col-span-2 tw-text-end"},E={key:0,class:"tw-col-span-2"},$=s("div",{class:"tw-col-span-3"},"Description:",-1),L={class:"tw-col-span-3"},j={key:1},F=s("div",{class:"tw-col-span-3"},"Leave Request Contents:",-1),G={class:"tw-col-span-1"},T=["dense"],z={class:"row items-center justify-end"},Y={__name:"ViewApprovalButton",props:["rows"],setup(k){const f=A(),V=I(),_=g(!1),e=g(null);function C(r){e.value=r,_.value=!0}return(r,a)=>(d(),n(y,null,[l(u,{icon:"visibility",label:"View",onClick:a[0]||(a[0]=t=>C(k.rows))}),l(U,{modelValue:_.value,"onUpdate:modelValue":a[4]||(a[4]=t=>_.value=t)},{default:o(()=>[s("div",N,[s("div",P,[s("div",null,"Request ID: "+i(e.value.id),1),s("div",S," Name: "+i(e.value.employee_id.first_name)+" "+i(e.value.employee_id.last_name),1),e.value.admin_id?(d(),n("div",E," Admin: "+i(e.value.admin_id.first_name)+" "+i(e.value.admin_id.last_name)+" - "+i(e.value.is_approved===null?"Pending":e.value.is_approved===!0?"Approved Request":e.value.is_approved===!1?"Declined Request":""),1)):p("",!0),$,s("div",L,[l(Q,{dense:r.dense,modelValue:e.value.description,"onUpdate:modelValue":a[1]||(a[1]=t=>e.value.description=t),disable:"",autogrow:"",filled:"","hide-bottom-space":""},null,8,["dense","modelValue"])]),e.value.type!==4?(d(),n("div",j,[F,s("div",G,[(d(!0),n(y,null,R(e.value.date_list,t=>(d(),n("div",{key:t,dense:r.dense,disable:"",autogrow:"",filled:"","hide-bottom-space":""},[l(Q,{filled:"",modelValue:t.date,"onUpdate:modelValue":w=>t.date=w,mask:"date",rules:["date"],disable:""},{append:o(()=>[l(D,{name:"event",class:"cursor-pointer"},{default:o(()=>[l(x,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:o(()=>[l(q,{modelValue:t.date,"onUpdate:modelValue":w=>t.date=w},{default:o(()=>[s("div",z,[m(l(u,{label:"Close",color:"primary",flat:""},null,512),[[c]])])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])],8,T))),128))])])):p("",!0)]),l(B,{align:"right",class:"text-primary"},{default:o(()=>[e.value.is_approved===null?m((d(),b(u,{key:0,onClick:a[2]||(a[2]=t=>v(V).approveRequest(e.value.id,v(f).getEmployeeId,e.value.employee_id.id,e.value.date_list)),class:"tw-bg-green-500"},{default:o(()=>[h("Approve")]),_:1})),[[c]]):p("",!0),e.value.is_approved===null?m((d(),b(u,{key:1,onClick:a[3]||(a[3]=t=>v(V).declineRequest(e.value.id,v(f).getEmployeeId)),class:"tw-bg-red-500"},{default:o(()=>[h("Refuse")]),_:1})),[[c]]):p("",!0),m(l(u,{flat:"",label:"Close"},null,512),[[c]])]),_:1})])]),_:1},8,["modelValue"])],64))}};export{Y as _};
