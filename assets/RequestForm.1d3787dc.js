import{r as s,o as y,c as h,d as o,Q as L,a as t,w as n,aG as S,a6 as T,n as q,g as I,V as U,a3 as M,aH as z}from"./index.4c79402b.js";import{Q as N}from"./QCardSection.8c4974c8.js";import{Q as P}from"./QSelect.462c235a.js";import{Q as v}from"./QInput.c0615e0c.js";import{Q as A}from"./QDate.9ccef98e.js";import{Q as B,a as O,C as $}from"./ClosePopup.b9192a6f.js";import{Q as j}from"./QForm.f5592ff2.js";import{Q as G}from"./position-engine.cf0ffe31.js";import{u as H}from"./loan.a784a664.js";import{u as J}from"./requestsEmployee.fa3782a1.js";const K={class:"text-h6"},W={class:"tw-flex tw-mb-3 tw-w"},X=t("div",{class:"tw-content-center tw-mr-3"},"Type:",-1),Y={key:0},Z=t("div",null,"Description:",-1),ee={class:"tw-pb-3 tw-px-2"},le={class:"tw-flex"},te=t("div",{class:"tw-content-center tw-mr-3"},"Price:",-1),ae={key:1},oe={class:"tw-flex tw-mb-3 tw-w"},se=t("div",{class:"tw-content-center tw-mr-3"},"Document Type:",-1),ue=t("div",null,"Description:",-1),re={class:"tw-pb-3 tw-px-2"},ne={key:2,class:"tw-w-full"},ie={class:"tw-flex tw-justify-center"},de=t("div",null,"Description:",-1),me={class:"tw-pb-3 tw-px-2"},Re={__name:"RequestForm",props:{modelOptions:[],buttonName:String},setup(c){const i=J(),Q=H(),r=s(!1),a=s(null),u=s(null),d=s(null),_=s(null),m=s(null),V=s(null),p=s(null),D=s(null),F=["BIR FORM NO. 2316"],R=s(null),b=s(null),f=s(null),g=s(null),x=s(null),k=s(null);function C(){if(a.value=="Vale"||a.value=="Product Loan"||a.value=="Partial to A/R"){u.value.validate(),_.value.validate(),V.value.validate(),u.value.hasError||_.value.hasError||V.value.hasError;const l={referenceId:Math.max.apply(Math,Q.rows.map(function(e){return e.referenceId}))+1,deductionType:"Company Loan",type:a.value,description:d.value,price:Number(m.value),status:"Pending",payPeriod:"Pending",remarks:"Remarks Description Lorem"};Q.rows.push(l),i.rows.push(l),a.value=null,d.value=null,m.value=null,r.value=!1,z.create({icon:"done",color:"positive",message:"Submitted!"})}else if(a.value=="Document"){u.value.validate(),D.value.validate(),b.value.validate(),u.value.hasError||D.value.hasError||b.value.hasError;const l={referenceId:Math.max.apply(Math,i.rows.map(function(e){return e.referenceId}))+1,type:p.value,description:R.value,status:"Pending",remarks:""};i.rows.push(l),r.value=!1}else if(a.value=="Leave"){u.value.validate(),g.value.validate(),k.value.validate(),u.value.hasError||g.value.hasError||k.value.hasError;const l={referenceId:Math.max.apply(Math,i.rows.map(function(e){return e.referenceId}))+1,type:a.value,description:x.value,status:"Pending",remarks:""};i.rows.push(l),r.value=!1}}function E(){a.value=null,d.value=null,m.value=null}return(w,l)=>(y(),h(M,null,[o(L,{label:c.buttonName,color:"primary",onClick:l[0]||(l[0]=e=>r.value=!0)},null,8,["label"]),t("div",null,[o(G,{modelValue:r.value,"onUpdate:modelValue":l[9]||(l[9]=e=>r.value=e),persistent:""},{default:n(()=>[o(B,{style:{"min-width":"500px"}},{default:n(()=>[o(j,{onSubmit:S(C,["prevent"]),autofocus:""},{default:n(()=>[o(N,null,{default:n(()=>[t("div",K,T(c.buttonName)+" Form",1)]),_:1}),o(N,{class:"q-pt-none"},{default:n(()=>[t("div",null,[t("div",W,[X,o(P,{filled:"",ref_key:"modelTypeRef",ref:u,modelValue:a.value,"onUpdate:modelValue":l[1]||(l[1]=e=>a.value=e),options:c.modelOptions,class:q([a.value==null?"tw-w-32":"tw-w-max"]),rules:[e=>!!e||"Field is required"],"lazy-rules":""},null,8,["modelValue","options","class","rules"])]),a.value=="Vale"||a.value=="Product Loan"||a.value=="Partial to A/R"?(y(),h("div",Y,[t("div",null,[Z,t("div",ee,[o(v,{ref_key:"modelDescriptionLoanRequestRef",ref:_,modelValue:d.value,"onUpdate:modelValue":l[2]||(l[2]=e=>d.value=e),filled:"",autogrow:"",class:"tw-max-w-full",rules:[e=>!!e||"Field is required"],"lazy-rules":""},null,8,["modelValue","rules"])])]),t("div",le,[te,o(v,{ref_key:"modelPriceRef",ref:V,modelValue:m.value,"onUpdate:modelValue":l[3]||(l[3]=e=>m.value=e),filled:"",dense:w.dense,class:"tw-w-40",rules:[e=>!!e||"Field is required",e=>/^\d+(\.\d+)?$/.test(e)||"Invalid price"],"lazy-rules":""},null,8,["modelValue","dense","rules"])])])):a.value=="Document"?(y(),h("div",ae,[t("div",null,[t("div",oe,[se,o(P,{filled:"",ref_key:"modelDocumentTypeRef",ref:D,modelValue:p.value,"onUpdate:modelValue":l[4]||(l[4]=e=>p.value=e),options:F,class:q([p.value==null?"tw-w-32":"tw-w-max"]),rules:[e=>!!e||"Field is required"],"lazy-rules":""},null,8,["modelValue","class","rules"])]),ue,t("div",re,[o(v,{ref_key:"modelDocumentDescriptionRef",ref:b,modelValue:R.value,"onUpdate:modelValue":l[5]||(l[5]=e=>R.value=e),filled:"",autogrow:"",class:"tw-max-w-full",rules:[e=>!!e||"Field is required"],"lazy-rules":""},null,8,["modelValue","rules"])])])])):a.value=="Leave"?(y(),h("div",ne,[t("div",ie,[t("div",null,[o(A,{modelValue:f.value,"onUpdate:modelValue":l[6]||(l[6]=e=>f.value=e),multiple:""},null,8,["modelValue"])])]),o(v,{ref_key:"modelLeaveSelectedDaysRef",ref:g,modelValue:f.value,"onUpdate:modelValue":l[7]||(l[7]=e=>f.value=e),"reverse-fill-mask":"",mask:"####-##-## \xA0",readonly:"",autogrow:"",borderless:""},null,8,["modelValue"]),de,t("div",me,[o(v,{ref_key:"modelLeaveDescriptionRef",ref:k,modelValue:x.value,"onUpdate:modelValue":l[8]||(l[8]=e=>x.value=e),filled:"",autogrow:"",class:"tw-max-w-full",rules:[e=>!!e||"Field is required"],"lazy-rules":""},null,8,["modelValue","rules"])])])):I("",!0)])]),_:1}),o(O,{align:"right",class:"text-primary"},{default:n(()=>[U(o(L,{flat:"",label:"Cancel",onClick:E},null,512),[[$]]),o(L,{flat:"",label:c.buttonName,type:"submit",class:"tw-bg-green-500"},null,8,["label"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64))}};export{Re as _};
