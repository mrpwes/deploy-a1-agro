import{u as K}from"./pageHeader.5864d687.js";import{k as N,r as M,j,p as U,t as q,q as $,i as z,aO as G,Q as I,at as O,au as F,o as H,c as Q,d as u,w as _,a as r,a8 as p,e as w,S as Y,aa as J,az as X,a7 as Z,G as ee,f as D,aP as P}from"./index.4b3c3d71.js";import{Q as C}from"./QInput.0b7d6fff.js";import{g as te,Q as ae}from"./position-engine.65eff008.js";import{e as oe,c as le,Q as ne}from"./QSelect.719db4c9.js";import{Q as v}from"./QTd.312e33a5.js";import{Q as re}from"./QTr.1c8e880b.js";import{Q as se}from"./QTable.7eaf985e.js";import{Q as ie,C as ue}from"./ClosePopup.261790f7.js";import{Q as de}from"./QDialog.f2508d6d.js";import"./use-key-composition.58a46558.js";import"./focus-manager.f3c2b9a5.js";import"./QList.bb366341.js";function T(e,t=new WeakMap){if(Object(e)!==e)return e;if(t.has(e))return t.get(e);const l=e instanceof Date?new Date(e):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Set?new Set:e instanceof Map?new Map:typeof e.constructor!="function"?Object.create(null):e.prototype!==void 0&&typeof e.prototype.constructor=="function"?e:new e.constructor;if(typeof e.constructor=="function"&&typeof e.valueOf=="function"){const s=e.valueOf();if(Object(s)!==s){const o=new e.constructor(s);return t.set(e,o),o}}return t.set(e,l),e instanceof Set?e.forEach(s=>{l.add(T(s,t))}):e instanceof Map&&e.forEach((s,o)=>{l.set(o,T(s,t))}),Object.assign(l,...Object.keys(e).map(s=>({[s]:T(e[s],t)})))}var k=N({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:l}){const{proxy:s}=q(),{$q:o}=s,d=M(null),b=M(""),m=M("");let g=!1;const S=j(()=>$({initialValue:b.value,validate:e.validate,set:f,cancel:c,updatePosition:a},"value",()=>m.value,y=>{m.value=y}));function f(){e.validate(m.value)!==!1&&(n()===!0&&(l("save",m.value,b.value),l("update:modelValue",m.value)),i())}function c(){n()===!0&&l("cancel",m.value,b.value),i()}function a(){z(()=>{d.value.updatePosition()})}function n(){return G(m.value,b.value)===!1}function i(){g=!0,d.value.hide()}function h(){g=!1,b.value=T(e.modelValue),m.value=T(e.modelValue),l("beforeShow")}function V(){l("show")}function x(){g===!1&&n()===!0&&(e.autoSave===!0&&e.validate(m.value)===!0?(l("save",m.value,b.value),l("update:modelValue",m.value)):l("cancel",m.value,b.value)),l("beforeHide")}function R(){l("hide")}function L(){const y=t.default!==void 0?[].concat(t.default(S.value)):[];return e.title&&y.unshift(U("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},e.title)),e.buttons===!0&&y.push(U("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[U(I,{flat:!0,color:e.color,label:e.labelCancel||o.lang.label.cancel,onClick:c}),U(I,{flat:!0,color:e.color,label:e.labelSet||o.lang.label.set,onClick:f})])),y}return Object.assign(s,{set:f,cancel:c,show(y){d.value!==null&&d.value.show(y)},hide(y){d.value!==null&&d.value.hide(y)},updatePosition:a}),()=>{if(e.disable!==!0)return U(oe,{ref:d,class:"q-popup-edit",cover:e.cover,onBeforeShow:h,onShow:V,onBeforeHide:x,onHide:R,onEscapeKey:c},L)}}});const ce=O("payrollTable",{state:()=>({payrollColumns:{columns:[{name:"employeeId",required:!0,label:"Emp. Id",align:"left",sortable:!0},{name:"employeeName",align:"center",label:"Name",sortable:!0,classes:"!tw-bg-neutral-300"},{name:"noDaysWorked",align:"center",label:"Days Worked",sortable:!0},{name:"ratePerDay",align:"center",label:"Rate/Day",classes:"!tw-bg-neutral-300"},{name:"total",align:"center",label:"Total",sortable:!0},{name:"sss",align:"center",label:"SSS",sortable:!0,classes:"!tw-bg-neutral-300"},{name:"philHealth",align:"center",label:"PhilHealth",sortable:!0},{name:"pagIbig",align:"center",label:"PagIBIG",sortable:!0,classes:"!tw-bg-neutral-300"},{name:"sssCalamityLoan",align:"center",label:"SSS Calamity Loan",sortable:!0},{name:"sssLoan",align:"center",label:"SSS Salary Loan",sortable:!0,classes:"!tw-bg-neutral-300"},{name:"pagIbigLoan",align:"center",label:"Pag-IBIG Loan",sortable:!0,headerStyle:"width: 0px"},{name:"NetPay",align:"center",label:"NetPay",sortable:!0,classes:"!tw-bg-neutral-300"},{name:"actions",align:"center",label:""}]},rows:[],selectedDate:null,selectedDateOptions:null}),getters:{},actions:{customFilter(e,t){return console.log("customFilter",e,t),e.filter(l=>{const s=t.toLowerCase();return l.last_name.toLowerCase().includes(s)||l.first_name.toLowerCase().includes(s)||l.middle_name.toLowerCase().includes(s)})},formatDate(e){const t=e.getFullYear(),l=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${t}-${l}-${s}`},getAndCheckDateRangesForCurrentMonth(){const e=new Date,t=e.getFullYear(),l=e.getMonth(),s=new Date(t,l,1),o=new Date(t,l,15),d=new Date(t,l,16),b=new Date(t,l+1,0),m={firstHalf:{start:this.formatDate(s),end:this.formatDate(o)},secondHalf:{start:this.formatDate(d),end:this.formatDate(b)}},g=this.formatDate(e),S=new Date(m.firstHalf.start),f=new Date(m.firstHalf.end),c=new Date(m.secondHalf.start),a=new Date(m.secondHalf.end);let n,i;return e>=S&&e<=f?(n=this.formatDate(S),i=this.formatDate(f)):e>=c&&e<=a?(n=this.formatDate(c),i=this.formatDate(a)):(n="out of range",i="out of range"),{todayDate:g,startDate:n,endDate:i}},async getSalaryHistory(){try{const{data:e,error:t}=await F.from("salary_history").select();t&&console.error(t),this.selectedDateOptions=e.sort((l,s)=>new Date(l.date_start)-new Date(s.date_start))}catch(e){console.error(e)}},customLogic(e,t){return!(e&&t)},async fetchAttendanceInRange(e=this.selectedDate.date_start,t=this.selectedDate.date_end){try{const{data:l,error:s}=await F.from("employee").select(`*,
            attendance(*, attendance_type(*)),
            employee_audit!employee_audit_employee_id_fkey(*),
            emp_sss_contrib_audit!emp_sss_contrib_audit_employee_id_fkey(*),
            emp_philhealth_contrib_audit!emp_philhealth_contrib_audit_employee_id_fkey(*),
            emp_pagibig_contrib_audit!emp_pagibig_contrib_audit_employee_id_fkey(*),
            government_loan_audit!government_loan_audit_employee_id_fkey(*)
            `).eq("is_archive",!1).gte("attendance.date",e).lte("attendance.date",t).lte("emp_sss_contrib_audit.change_date",t).lte("emp_philhealth_contrib_audit.change_date",t).lte("emp_pagibig_contrib_audit.change_date",t).gte("government_loan_audit.date_end",t).lte("government_loan_audit.change_date",t);l.forEach(o=>{const d=o.emp_sss_contrib_audit;if(d.length>0){const b=d[d.length-1];b.half_month_indicator==!0&&[28,29,30,31].includes(parseInt(t.split("-")[2]))?console.log("is true."):b.half_month_indicator==!1&&[15].includes(parseInt(t.split("-")[2]))?console.log("is true 2."):(console.log("EMPLOYEE SSS is false."),o.emp_sss_contrib_audit=[])}else console.log("emp_sss_contrib_audit array is empty.")}),l.forEach(o=>{const d=o.emp_philhealth_contrib_audit;if(d.length>0){const b=d[d.length-1];b.half_month_indicator==!0&&[28,29,30,31].includes(parseInt(t.split("-")[2]))?console.log("Philhealth is true."):b.half_month_indicator==!1&&[15].includes(parseInt(t.split("-")[2]))?console.log("Philhealth is true 2."):o.emp_philhealth_contrib_audit=[]}else console.log("emp_philhealth_contrib_audit array is empty.")}),l.forEach(o=>{const d=o.emp_pagibig_contrib_audit;if(d.length>0){const b=d[d.length-1];b.half_month_indicator==!0&&[28,29,30,31].includes(parseInt(t.split("-")[2]))?console.log("Pagibig is true."):b.half_month_indicator==!1&&[15].includes(parseInt(t.split("-")[2]))?console.log("Pagibig is true 2."):o.emp_pagibig_contrib_audit=[]}else console.log("emp_pagibig_contrib_audit array is empty.")}),l.forEach(o=>{const d=o.government_loan_audit;if(d.length>0){const b={};d.forEach(m=>{const g=m.government_loan_id;(!b[g]||m.audit_id>b[g].audit_id)&&(b[g]=m)}),o.government_loan_audit=Object.values(b)}else console.log("government_loan_audit array is empty.")}),s&&console.error(s),this.rows=l}catch(l){console.error(l)}},getNearestDateRange(){if(this.selectedDate!=null)return;const e=new Date;function t(d){return new Date(d)}function l(d){return Math.abs(e-d)}let s=null,o=1/0;for(const d of this.selectedDateOptions){const b=t(d.date_start),m=t(d.date_end),g=l(b),S=l(m),f=Math.min(g,S);f<o&&(o=f,s=d)}this.selectedDate=s},async fetchAttendanceReports(){this.rows=[],await this.getSalaryHistory(),await this.getNearestDateRange(),await this.fetchAttendanceInRange()}}}),W=O("payrollTableFormatter",{state:()=>({payrollData:[],sssContributionTableRanges:[],philhealthContributionRate:null,pagibigContributionRate:null}),getters:{formattedPayrollData:e=>e.payrollData.map(t=>({...t,formattedDate:new Date(t.date).toLocaleDateString()}))},actions:{twoDecimalWithoutRounding(e){var t=e.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0];return parseFloat(t)},capitalizeFirstLetterOfEachWord(e){return e.split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")},noDaysWorkedFormatter(e){let t=0;return e.forEach(l=>{if(l.time_out===null&&l.time_in!==null)t+=0;else if(l.attendance_type_id!==1&&l.attendance_type_id!==void 0)t+=8;else if(l.time_in&&l.time_out){const s=new Date(l.time_in),o=new Date(l.time_out),d=new Date(s);d.setHours(8,0,0,0),s<d&&s.setHours(8,0,0,0);const b=new Date(o);b.setHours(17,0,0,0),o>b&&o.setHours(17,0,0,0);let m=(o-s)/(1e3*60*60);const g=new Date(o);g.setHours(13,0,0,0),o>g&&(m-=1),t+=m}}),this.twoDecimalWithoutRounding(t/8)},grossIncomeFormatter(e,t){const l=this.noDaysWorkedFormatter(t);return e*l},monthlyIncomeFormatter(e,t=30){return this.twoDecimalWithoutRounding(e*t)},async fetchSssContributionTable(){try{const{data:e,error:t}=await F.from("sss_contribution_table_audit").select("*").order("audit_id",{ascending:!1}).limit(1);if(t)throw console.error(t),t;this.sssContributionTableRanges=e[0].data.map(l=>{const s=l.combinedValue;let o,d,b;if(b=parseFloat(l.values[4].replace(",","")),s.startsWith("Below"))o=0,d=parseFloat(s.split(" ")[1].replace(",",""));else if(s.includes("Over"))o=parseFloat(s.split(" ")[0].replace(",","")),d=null;else{const[m,g]=s.split(" - ");o=parseFloat(m.replace(",","")),d=parseFloat(g.replace(",",""))}return{min:o,max:d,sss_bracket:b}})}catch(e){console.error(e)}},findSSSRange(e){for(const t of this.sssContributionTableRanges)if(e>=t.min&&e<t.max)return t.sss_bracket;return"Value is out of range"},async fetchPhilhealthContributionTable(){try{const{data:e,error:t}=await F.from("philhealth_contribution_table_audit").select("*").order("audit_id",{ascending:!1}).limit(1);if(t)throw console.error(t),t;this.philhealthContributionRate=e[0].data.value}catch(e){console.error(e)}},async fetchPagibigContributionTable(){try{const{data:e,error:t}=await F.from("pagibig_contribution_table_audit").select("*").order("audit_id",{ascending:!1}).limit(1);if(t)throw console.error(t),t;console.log(e),this.pagibigContributionRate=e}catch(e){console.error(e)}},calculatePagibigContribution(e){const t=this.monthlyIncomeFormatter(e);let l,s;return t<=1500?(l=.01,s=Math.min(t,1e4)*l):(l=.02,s=Math.min(t,1e4)*l),this.twoDecimalWithoutRounding(s)}}});const me={class:"!tw-h-min !tw-w-8/12 !tw-max-w-full tw-bg-white tw-p-6"},_e={id:"section-to-print"},be={class:"tw-text-3xl tw-font-extrabold tw-pb-3"},fe=r("thead",null,[r("tr",null,[r("th",{class:"tw-text-center tw-font-bold tw-border",colspan:"3"}," Gross "),r("th",{class:"tw-text-center tw-font-bold tw-border",colspan:"2"}," Deductions ")])],-1),pe=r("td",{class:"tw-border"},"Rate Per Day:",-1),he={class:"tw-border"},ge=r("td",{class:"tw-border"},null,-1),we=r("td",{class:"tw-border"},"SSS Contribution:",-1),ye={class:"tw-border tw-flex tw-justify-between"},ve={class:"tw-text-gray-500"},De=r("td",{class:"tw-border"},"Day Worked:",-1),Ve={class:"tw-border"},Se={class:"tw-border"},Ce=r("td",{class:"tw-border"},"PhilHealth Contribution:",-1),Pe={class:"tw-border tw-flex tw-justify-between"},ke={class:"tw-text-gray-500"},Me=r("td",{colspan:"3",class:"tw-border"},null,-1),Ie=r("td",{class:"tw-border"},"Pag-IBIG Contribution:",-1),xe={class:"tw-border tw-flex tw-justify-between"},Ue={class:"tw-text-gray-500"},Fe=r("tr",null,[r("td",{colspan:"3",class:"tw-border"},"\xA0"),r("td",{class:"tw-border"}),r("td",{class:"tw-border"})],-1),Te=r("td",{colspan:"3",class:"tw-border"},null,-1),Le=r("td",{class:"tw-border"},"SSS Calamity Loan:",-1),Re={class:"tw-border tw-text-end"},Ae=r("td",{colspan:"3",class:"tw-border"},null,-1),He=r("td",{class:"tw-border"},"SSS Salary Loan:",-1),Ee={class:"tw-border tw-text-end"},Oe=r("td",{colspan:"3",class:"tw-border"},null,-1),Qe=r("td",{class:"tw-border"},"Pag-IBIG Loan:",-1),We={class:"tw-border tw-text-end"},Be=r("tr",null,[r("td",{colspan:"3",class:"tw-border"},"\xA0"),r("td",{class:"tw-border"}),r("td",{class:"tw-border"})],-1),Ke=r("td",{colspan:"2",class:"tw-border"},"Total Gross Income:",-1),Ne={class:"tw-border"},je=r("td",{class:"tw-border"},"Total Deductions:",-1),qe={class:"tw-border tw-justify-end tw-text-end"},$e=r("td",{class:"tw-border",colspan:"3"},null,-1),ze=r("td",{class:"tw-border"},"Total Net Pay:",-1),Ge={class:"tw-border tw-text-end"},E={__name:"ViewPayrollRowButton",props:["rows"],setup(e){const t=W(),l=M(0),s=M(!1),o=M(null);function d(c){o.value=c,s.value=!0}function b(){l.value+=1,X.create({icon:"done",color:"positive",message:"SMS Sent!"})}function m(c,a){return c.filter(h=>h.government_loan_type_id===a).reduce((h,V)=>h+V.amortization,0)}function g(){var c,a,n,i,h,V;return((a=(c=o.value.emp_sss_contrib_audit[o.value.emp_sss_contrib_audit.length-1])==null?void 0:c.amount)!=null?a:0)+((i=(n=o.value.emp_philhealth_contrib_audit[o.value.emp_philhealth_contrib_audit.length-1])==null?void 0:n.amount)!=null?i:0)+((V=(h=o.value.emp_pagibig_contrib_audit[o.value.emp_pagibig_contrib_audit.length-1])==null?void 0:h.amount)!=null?V:0)+m(o.value.government_loan_audit,1)+m(o.value.government_loan_audit,2)+m(o.value.government_loan_audit,3)}function S(c){var a=c.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0];return parseFloat(a)}function f(){try{return S(t.grossIncomeFormatter(o.value.rate_per_day,o.value.attendance)-g())}catch(c){return console.error("Error calculating payroll:",c),0}}return(c,a)=>(H(),Q(J,null,[u(I,{unelevated:"",padding:"none",icon:"visibility",onClick:a[0]||(a[0]=n=>d(e.rows))}),u(de,{modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=n=>s.value=n),persistent:""},{default:_(()=>[r("div",me,[r("div",_e,[r("div",be,p(o.value.company_employee_id+" - "+o.value.first_name+" "+o.value.last_name),1),u(le,{separator:"cell",flat:"",bordered:"",dense:""},{default:_(()=>{var n,i,h,V,x;return[fe,r("tbody",null,[r("tr",null,[pe,r("td",he,p(o.value.rate_per_day),1),ge,we,r("td",ye,[r("div",ve,p(w(t).findSSSRange(o.value.rate_per_day*30)),1),r("div",null,p(o.value.emp_sss_contrib_audit&&o.value.emp_sss_contrib_audit.length>0&&(n=o.value.emp_sss_contrib_audit[o.value.emp_sss_contrib_audit.length-1].amount)!=null?n:0),1)])]),r("tr",null,[De,r("td",Ve,p(w(t).noDaysWorkedFormatter(o.value.attendance)===0?"N/A":w(t).noDaysWorkedFormatter(o.value.attendance)===1?"1 Day":w(t).noDaysWorkedFormatter(o.value.attendance)+" Days"),1),r("td",Se,p(w(t).grossIncomeFormatter(o.value.rate_per_day,o.value.attendance)),1),Ce,r("td",Pe,[r("div",ke,p(w(t).philhealthContributionRate/2/100*(o.value.rate_per_day*30)),1),r("div",null,p((h=(i=o.value.emp_philhealth_contrib_audit[o.value.emp_philhealth_contrib_audit.length-1])==null?void 0:i.amount)!=null?h:0),1)])]),r("tr",null,[Me,Ie,r("td",xe,[r("div",Ue,p(w(t).calculatePagibigContribution(o.value.rate_per_day)),1),r("div",null,p((x=(V=o.value.emp_pagibig_contrib_audit[o.value.emp_pagibig_contrib_audit.length-1])==null?void 0:V.amount)!=null?x:0),1)])]),Fe,r("tr",null,[Te,Le,r("td",Re,p(m(o.value.government_loan_audit,2)),1)]),r("tr",null,[Ae,He,r("td",Ee,p(m(o.value.government_loan_audit,1)),1)]),r("tr",null,[Oe,Qe,r("td",We,p(m(o.value.government_loan_audit,3)),1)]),Be,r("tr",null,[Ke,r("td",Ne,p(w(t).grossIncomeFormatter(o.value.rate_per_day,o.value.attendance)),1),je,r("td",qe,p(g()),1)]),r("tr",null,[$e,ze,r("td",Ge,p(f()),1)])])]}),_:1})]),u(ie,{align:"right",class:"text-primary noPrint"},{default:_(()=>[Y(u(I,{flat:"",label:"Cancel"},null,512),[[ue]]),u(I,{flat:"",class:"tw-bg-green-400",icon:"mdi-message",label:l.value===0?"SEND SMS":"SEND SMS "+l.value,onclick:b},null,8,["label"]),u(I,{flat:"",class:"tw-bg-green-400",icon:"print",label:"print payslip",onclick:"window.print()"})]),_:1})])]),_:1},8,["modelValue"])],64))}},Ye={__name:"PayrollSheetTable",setup(e){const t=ce(),l=W(),s=M(""),o=M(!1);t.fetchAttendanceReports(),l.fetchSssContributionTable(),l.fetchPhilhealthContributionTable(),l.fetchPagibigContributionTable();function d(f,c){return f.filter(i=>i.government_loan_type_id===c).reduce((i,h)=>i+h.amortization,0)}function b(f){var c,a,n,i,h,V;return((a=(c=f.emp_sss_contrib_audit[0])==null?void 0:c.amount)!=null?a:0)+((i=(n=f.emp_philhealth_contrib_audit[0])==null?void 0:n.amount)!=null?i:0)+((V=(h=f.emp_pagibig_contrib_audit[0])==null?void 0:h.amount)!=null?V:0)+d(f.government_loan_audit,1)+d(f.government_loan_audit,2)+d(f.government_loan_audit,3)}function m(f){var c=f.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0];return parseFloat(c)}function g(f){try{return m(l.grossIncomeFormatter(f.rate_per_day,f.attendance)-b(f))}catch(c){return console.error("Error calculating payroll:",c),f}}function S(f){const c=document.getElementById(f);let a="";a+=Array.from(c.querySelectorAll("th")).map(A=>A.innerText.replace(/arrow_upward/g,"")).join(",")+`
`,Array.from(c.querySelectorAll("tr")).slice(1).forEach(A=>{a+=Array.from(A.querySelectorAll("td")).slice(0,-1).map(B=>B.innerText).join(",")+`
`});const h=new Date,V={month:"short",day:"2-digit",year:"numeric"},x=h.toLocaleDateString("en-US",V).replace(",","").replace(/\s+/g,"-"),R=new Blob([a],{type:"text/csv;charset=utf-8;"}),L=URL.createObjectURL(R),y=document.createElement("a");y.setAttribute("href",L),y.setAttribute("download",`Payroll-Sheet-Report-${x}.csv`),document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(L)}return(f,c)=>(H(),Z(se,{id:"exportTable",class:"tw-border tw-rounded-3xl tw-shadow-lg",flat:"",bordered:"",dense:"",title:"Attendance Report","title-class":["tw-text-xl","tw-font-bold"],columns:w(t).payrollColumns.columns,rows:w(t).rows,"rows-per-page-options":[0],filter:s.value,"filter-method":w(t).customFilter,separator:"cell","row-key":"name"},{"top-right":_(()=>[u(I,{color:"blue","icon-right":"archive",label:"Export to CSV","no-caps":"",onClick:c[0]||(c[0]=a=>S("exportTable")),class:"tw-mr-16"}),u(C,{borderless:"",dense:"",debounce:"300",modelValue:s.value,"onUpdate:modelValue":c[1]||(c[1]=a=>s.value=a),placeholder:"Search Name"},{append:_(()=>[u(ee,{name:"search"})]),_:1},8,["modelValue"])]),"top-left":_(()=>[u(ne,{rounded:"",standout:"","use-input":"",modelValue:w(t).selectedDate,"onUpdate:modelValue":[c[2]||(c[2]=a=>w(t).selectedDate=a),c[3]||(c[3]=a=>w(t).fetchAttendanceReports())],options:w(t).selectedDateOptions,"option-label":a=>a.date_start+" "+a.date_end,"hide-selected":"","fill-input":"","hide-bottom-space":"","input-debounce":"0",class:"!tw-pb-0"},{"no-option":_(()=>[u(te,null,{default:_(()=>[u(ae,{class:"text-grey"},{default:_(()=>[D(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","option-label"])]),"body-cell-actions":_(a=>[u(v,{key:"actions",class:"tw-w-2/12",props:a},{default:_(()=>[u(E,{rows:a.row},null,8,["rows"])]),_:2},1032,["props"])]),body:_(a=>[u(re,{props:a},{default:_(()=>[u(v,{key:"employeeId",props:a,"auto-width":""},{default:_(()=>[D(p(a.row.company_employee_id),1)]),_:2},1032,["props"]),u(v,{key:"employeeName",props:a,"auto-width":""},{default:_(()=>[D(p(a.row.first_name+" "+a.row.last_name),1)]),_:2},1032,["props"]),u(v,{key:"noDaysWorked",props:a,"auto-width":""},{default:_(()=>[D(p(w(l).noDaysWorkedFormatter(a.row.attendance))+" ",1),u(k,{disable:!o.value,modelValue:a.row.noDaysWorked,"onUpdate:modelValue":n=>a.row.noDaysWorked=n,modelModifiers:{number:!0},buttons:""},{default:_(n=>[u(C,{type:"number",modelValue:n.value,"onUpdate:modelValue":i=>n.value=i,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:P(n.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["disable","modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),u(v,{key:"ratePerDay",props:a,"auto-width":""},{default:_(()=>[D(p(a.row.rate_per_day.toFixed(2))+" ",1),u(k,{disable:!o.value,modelValue:a.row.ratePerDay,"onUpdate:modelValue":n=>a.row.ratePerDay=n,modelModifiers:{number:!0},buttons:""},{default:_(n=>[u(C,{type:"number",modelValue:n.value,"onUpdate:modelValue":i=>n.value=i,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:P(n.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["disable","modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),u(v,{key:"total",props:a,"auto-width":""},{default:_(()=>[D(p(w(l).grossIncomeFormatter(a.row.rate_per_day,a.row.attendance)),1)]),_:2},1032,["props"]),u(v,{key:"sss",props:a,"auto-width":""},{default:_(()=>{var n;return[D(p(a.row.emp_sss_contrib_audit.length>0&&(n=a.row.emp_sss_contrib_audit[a.row.emp_sss_contrib_audit.length-1].amount)!=null?n:0)+" ",1),u(k,{disable:!o.value,modelValue:a.row.sss,"onUpdate:modelValue":i=>a.row.sss=i,modelModifiers:{number:!0},button:""},{default:_(i=>[u(C,{type:"number",modelValue:i.value,"onUpdate:modelValue":h=>i.value=h,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:P(i.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["disable","modelValue","onUpdate:modelValue"])]}),_:2},1032,["props"]),u(v,{key:"philHealth",props:a,"auto-width":""},{default:_(()=>{var n;return[D(p(a.row.emp_philhealth_contrib_audit.length>0&&(n=a.row.emp_philhealth_contrib_audit[a.row.emp_philhealth_contrib_audit.length-1].amount)!=null?n:0)+" ",1),u(k,{disable:!o.value,modelValue:a.row.philHealth,"onUpdate:modelValue":i=>a.row.philHealth=i,modelModifiers:{number:!0},buttons:""},{default:_(i=>[u(C,{type:"number",modelValue:i.value,"onUpdate:modelValue":h=>i.value=h,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:P(i.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["disable","modelValue","onUpdate:modelValue"])]}),_:2},1032,["props"]),u(v,{key:"pagIbig",props:a,"auto-width":""},{default:_(()=>{var n;return[D(p(a.row.emp_pagibig_contrib_audit.length>0&&(n=a.row.emp_pagibig_contrib_audit[a.row.emp_pagibig_contrib_audit.length-1].amount)!=null?n:0)+" ",1),u(k,{disable:!o.value,modelValue:a.row.pagIbig,"onUpdate:modelValue":i=>a.row.pagIbig=i,modelModifiers:{number:!0},buttons:""},{default:_(i=>[u(C,{type:"number",modelValue:i.value,"onUpdate:modelValue":h=>i.value=h,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:P(i.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["disable","modelValue","onUpdate:modelValue"])]}),_:2},1032,["props"]),u(v,{key:"sssCalamityLoan",props:a,"auto-width":""},{default:_(()=>[D(p(d(a.row.government_loan_audit,2))+" ",1),u(k,{disable:!o.value,modelValue:a.row.sssCalamityLoan,"onUpdate:modelValue":n=>a.row.sssCalamityLoan=n,modelModifiers:{number:!0},buttons:""},{default:_(n=>[u(C,{type:"number",modelValue:n.value,"onUpdate:modelValue":i=>n.value=i,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:P(n.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["disable","modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),u(v,{key:"sssLoan",props:a,"auto-width":""},{default:_(()=>[D(p(d(a.row.government_loan_audit,1))+" ",1),u(k,{disable:!o.value,modelValue:a.row.sssLoan,"onUpdate:modelValue":n=>a.row.sssLoan=n,modelModifiers:{number:!0},buttons:""},{default:_(n=>[u(C,{type:"number",modelValue:n.value,"onUpdate:modelValue":i=>n.value=i,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:P(n.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["disable","modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),u(v,{key:"pagIbigLoan",props:a,"auto-width":""},{default:_(()=>[D(p(d(a.row.government_loan_audit,3))+" ",1),u(k,{disable:!o.value,modelValue:a.row.pagIbigLoan,"onUpdate:modelValue":n=>a.row.pagIbigLoan=n,modelModifiers:{number:!0},buttons:""},{default:_(n=>[u(C,{type:"number",modelValue:n.value,"onUpdate:modelValue":i=>n.value=i,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:P(n.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["disable","modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),u(v,{key:"NetPay",props:a,"auto-width":""},{default:_(()=>[D(p(g(a.row)),1)]),_:2},1032,["props"]),u(v,{key:"overVale",props:a,"auto-width":""},{default:_(()=>[D(p(a.row.overVale)+" ",1),u(k,{disable:!o.value,modelValue:a.row.overVale,"onUpdate:modelValue":n=>a.row.overVale=n,modelModifiers:{number:!0},buttons:""},{default:_(n=>[u(C,{type:"number",modelValue:n.value,"onUpdate:modelValue":i=>n.value=i,modelModifiers:{number:!0},dense:"",autofocus:"",onKeyup:P(n.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["disable","modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),u(v,{key:"actions","auto-width":"",props:a},{default:_(()=>[u(E,{rows:a.row},null,8,["rows"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["columns","rows","filter","filter-method"]))}},Je={class:"tw-w-12/12 tw-max-w-full tw-mx-auto tw-bg-white tw-shadow-lg tw-border tw-rounded-3xl tw-border-collapse tw-p-4 tw-mt-0"},mt={__name:"AdminPayrollPage",setup(e){const t=K();return t.currentPage="Payroll Sheet",(l,s)=>(H(),Q("div",Je,[r("div",null,[u(Ye),D(" \xA0 ")])]))}};export{mt as default};
