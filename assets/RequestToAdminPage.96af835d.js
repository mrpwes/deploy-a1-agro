import{o as i,c as n,a as l,d as o,e as t,Q as d,w as a,S as p,g as f,a7 as g,a5 as V,a6 as x,G as _,aP as C,aN as v}from"./index.2cf10682.js";import{b as T}from"./QSelect.862e4161.js";import{Q as w}from"./QInput.593f463a.js";import{Q as k}from"./QDate.f531f1dd.js";import{Q}from"./QPopupProxy.60b7cd65.js";import{Q as b,C as c}from"./ClosePopup.b3a9f460.js";import{Q as y}from"./QForm.c34d064b.js";import{Q as L}from"./position-engine.b68752fb.js";import{Q as P}from"./QTd.a9c11184.js";import{Q as R}from"./QTable.fc22db06.js";import{u as O}from"./pageHeader.8f3bb32f.js";import{u as A,_ as S}from"./ViewApprovalButton.285c24c0.js";import"./focus-manager.c6d20410.js";import"./use-key-composition.6156933d.js";import"./date.13f4c48f.js";import"./QList.f8ee73cb.js";import"./globalNotification.4b844c52.js";import"./viewApproval.db01a3d5.js";const U={class:"tw-mt-6"},B={class:"tw-w-11/12 tw-mx-auto tw-flex tw-justify-end tw-mb-5 tw-gap-4"},z={class:"!tw-h-min !tw-w-5/12 !tw-max-w-full tw-bg-white tw-px-6 tw-pb-3 tw-pt-6"},D=l("div",{class:"tw-text-3xl tw-font-extrabold tw-mb-3"},"Add Request",-1),M={key:0,class:"row items-center justify-end"},F={class:"tw-grid tw-gap-4"},I={class:"form-group tw-grid tw-gap-1"},H=l("label",{class:"text-gray-600 font-semibold text-lg"},"Leave Date:",-1),$={class:"row items-center justify-end"},N={class:"tw-my-auto"},j=["onClick"],E=l("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),G=l("path",{fill:"green",d:"M11 11V7h2v4h4v2h-4v4h-2v-4H7v-2h4zm1 11C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16z"},null,-1),J=[E,G],K=["onClick"],W=l("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),X=l("path",{fill:"#EC4899",d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-9.414l2.828-2.829 1.415 1.415L13.414 12l2.829 2.828-1.415 1.415L12 13.414l-2.828 2.829-1.415-1.415L10.586 12 7.757 9.172l1.415-1.415L12 10.586z"},null,-1),Y=[W,X],Z={class:"tw-grid tw-gap-4"},ve={__name:"RequestToAdminPage",setup(ee){const e=A(),q=O();return q.currentPage="Request To Admin",e.getRequestList(),(u,r)=>(i(),n("div",U,[l("div",B,[l("div",null,[o(d,{icon:"mdi-plus",label:"Request",onClick:r[0]||(r[0]=s=>t(e).viewPrompt=!0),class:"tw-bg-white"}),o(L,{modelValue:t(e).viewPrompt,"onUpdate:modelValue":r[4]||(r[4]=s=>t(e).viewPrompt=s),persistent:""},{default:a(()=>[l("div",z,[D,o(T,{required:"",rounded:"",standout:"bg-teal text-white",modelValue:t(e).requestTypeOption,"onUpdate:modelValue":r[1]||(r[1]=s=>t(e).requestTypeOption=s),label:"Request Type",options:t(e).requestTypeOptions,rules:[s=>!!s||"Request Type is required"],"hide-bottom-space":"",class:"!tw-w-30 tw-mb-3"},null,8,["modelValue","options","rules"]),t(e).requestTypeOption!=="Leave"&&t(e).requestTypeOption!=="Maternity Leave"&&t(e).requestTypeOption!=="Paternity Leave"&&t(e).requestTypeOption!=="BIR 2316"?(i(),n("div",M,[p(o(d,{label:"Close",color:"primary",flat:""},null,512),[[c]])])):f("",!0),t(e).requestTypeOption==="Leave"||t(e).requestTypeOption==="Maternity Leave"||t(e).requestTypeOption==="Paternity Leave"?(i(),g(y,{key:1,onSubmit:v(t(e).addRequestToAdminPage,["prevent"]),autofocus:""},{default:a(()=>[l("div",F,[o(w,{rounded:"",standout:"bg-teal text-white",label:"Description",modelValue:t(e).request_description,"onUpdate:modelValue":r[2]||(r[2]=s=>t(e).request_description=s),type:"textarea",required:""},null,8,["modelValue"])]),l("div",I,[H,(i(!0),n(V,null,x(t(e).dateList,(s,h)=>(i(),n("div",{key:`phoneInput-${h}`,class:"input wrapper flex items-center"},[o(w,{filled:"",modelValue:s.date,"onUpdate:modelValue":m=>s.date=m,mask:"date",rules:["date"],"hide-bottom-space":""},{append:a(()=>[o(_,{name:"event",class:"cursor-pointer"},{default:a(()=>[o(Q,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[o(k,{modelValue:s.date,"onUpdate:modelValue":m=>s.date=m},{default:a(()=>[l("div",$,[p(o(d,{label:"Close",color:"primary",flat:""},null,512),[[c]])])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"]),l("div",N,[(i(),n("svg",{onClick:m=>t(e).addField(s,u.dateList),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",class:"ml-2 cursor-pointer"},J,8,j)),p((i(),n("svg",{onClick:m=>t(e).removeField(h,u.dateList),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",class:"ml-2 cursor-pointer"},Y,8,K)),[[C,t(e).dateList.length>1]])])]))),128))]),o(b,{align:"right",class:"text-primary"},{default:a(()=>[p(o(d,{flat:"",label:"Cancel",onClick:t(e).resetForm},null,8,["onClick"]),[[c]]),o(d,{flat:"",class:"tw-bg-green-400",label:"Add Request",type:"submit"})]),_:1})]),_:1},8,["onSubmit"])):f("",!0),t(e).requestTypeOption==="BIR 2316"?(i(),g(y,{key:2,onSubmit:v(t(e).addRequestToAdminPage,["prevent"]),autofocus:""},{default:a(()=>[l("div",Z,[o(w,{rounded:"",standout:"bg-teal text-white",label:"Description",modelValue:t(e).request_description,"onUpdate:modelValue":r[3]||(r[3]=s=>t(e).request_description=s),type:"textarea",required:""},null,8,["modelValue"])]),o(b,{align:"right",class:"text-primary"},{default:a(()=>[p(o(d,{flat:"",label:"Cancel",onClick:t(e).resetForm},null,8,["onClick"]),[[c]]),o(d,{flat:"",class:"tw-bg-green-400",label:"Add Request",type:"submit"})]),_:1})]),_:1},8,["onSubmit"])):f("",!0)])]),_:1},8,["modelValue"])])]),l("div",null,[o(R,{class:"my-sticky-header-table tw-w-11/12 tw-mx-auto tw-mt-6 tw-bg-white tw-shadow-lg tw-border tw-rounded-3xl tw-border-collapse",flat:"",bordered:"","title-class":["tw-text-xl","tw-font-bold"],columns:t(e).columns,rows:t(e).getUnarchiveRows,"rows-per-page-options":[10,20,0],filter:u.filter,"row-key":"Loan ID"},{"top-right":a(()=>[o(w,{borderless:"",dense:"",debounce:"300",modelValue:u.filter,"onUpdate:modelValue":r[5]||(r[5]=s=>u.filter=s),placeholder:"Search"},{append:a(()=>[o(_,{name:"search"})]),_:1},8,["modelValue"])]),"body-cell-actions":a(s=>[o(P,{key:"actions",class:"tw-w-2/12",props:s},{default:a(()=>[o(S,{rows:s.row},null,8,["rows"])]),_:2},1032,["props"])]),_:1},8,["columns","rows","filter"])])]))}};export{ve as default};
